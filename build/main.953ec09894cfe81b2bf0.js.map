{"version":3,"sources":["webpack:///./hbsTemplates/imageList.hbs","webpack:///./apiService.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","pageNumber","query","fetchImages","requestParams","this","fetch","then","response","json","parsedResponse","incrementPageNumber","string","console","log","_","require","refs","pageBody","document","querySelector","searchForm","searchImageInput","imageGallery","loadMoreBtn","scrollToNextPage","heigth","number","insertImageInfoGallery","item","insertAdjacentHTML","buildGalleryMarkup","imageList","tagAdder","inputValue","value","searchImage","searchQuery","hits","clientHeight","addEventListener","debounce","e","preventDefault","innerHTML","offsetHeight","heightChange","window","scrollTo","top","behavior"],"mappings":"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","file":"main.953ec09894cfe81b2bf0.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"imageItem\\\">\\r\\n  <div class=\\\"photo-card\\\">\\r\\n   <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":13},\"end\":{\"line\":5,\"column\":29}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":36},\"end\":{\"line\":5,\"column\":44}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n   <div class=\\\"stats\\\">\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":6},\"end\":{\"line\":10,\"column\":15}}}) : helper)))\n    + \" \\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">visibility</i>\\r\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":6},\"end\":{\"line\":14,\"column\":15}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">comment</i>\\r\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":6},\"end\":{\"line\":18,\"column\":18}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n      \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":6},\"end\":{\"line\":22,\"column\":19}}}) : helper)))\n    + \"\\r\\n    </p>\\r\\n   </div>\\r\\n  </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hits\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":27,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const baseUrl = 'https://pixabay.com/api/';\nconst MyAPIKey = '17820819-7325a21fc26dbd04468dfd17d';\nexport default {\n\tpageNumber: 1,\n\tquery: '',\n\tfetchImages() {\n\t\tconst requestParams = `?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.pageNumber}&per_page=12&key=${MyAPIKey}`;\n\n\t\treturn fetch(baseUrl + requestParams)\n\t\t\t.then(response => response.json())\n\t\t\t.then(parsedResponse => {\n\t\t\t\tthis.incrementPageNumber();\n\t\t\t\treturn parsedResponse;\n\t\t\t});\n\t},\n\tget searchQuery() {\n\t\treturn this.query;\n\t},\n\tset searchQuery(string) {\n\t\tthis.query = string;\n\t},\n\tincrementPageNumber() {\n\t\tthis.pageNumber += 1;\n\t},\n};\n","'use strict';\nconsole.log('Hello');\n\nimport searchImage from './apiService.js';\n\nimport imageList from './hbsTemplates/imageList.hbs';\n\nimport '../node_modules/material-design-icons/iconfont/material-icons.css';\n\nimport './styles.css';\n\nconst _ = require('lodash');\n\nconst refs = {\n\tpageBody: document.querySelector('#page-body'),\n\n\tsearchForm: document.querySelector('#search-form'),\n\n\tsearchImageInput: document.querySelector('#image-search'),\n\n\timageGallery: document.querySelector('#gallery'),\n\n\tloadMoreBtn: document.querySelector('#load-more-btn'),\n};\n\nconst scrollToNextPage = {\n\theigth: 0,\n\tget heightChange() {\n\t\treturn this.heigth;\n\t},\n\tset heightChange(number) {\n\t\treturn (this.heigth = number);\n\t},\n};\nconsole.log(refs.pageBody.clientHeight);\n\nrefs.searchImageInput.addEventListener(\n\t'input',\n\t_.debounce(searchFormHandler, 1500)\n);\nrefs.loadMoreBtn.addEventListener('click', loadMoreBtnHandler);\n\nfunction searchFormHandler(e) {\n\te.preventDefault();\n\n\tif (refs.imageGallery.innerHTML != '') {\n\t\ttagCleaner();\n\t\treturn tagAdder();\n\t} else {\n\t\treturn tagAdder();\n\t}\n}\n\nfunction insertImageInfoGallery(item) {\n\trefs.imageGallery.insertAdjacentHTML('beforeend', item);\n}\n\nfunction buildGalleryMarkup(item) {\n\treturn imageList(item);\n}\n\nfunction tagCleaner() {\n\trefs.imageGallery.innerHTML = '';\n}\n\nfunction tagAdder() {\n\tconst inputValue = refs.searchImageInput.value;\n\tsearchImage.searchQuery = inputValue;\n\tsearchImage.fetchImages().then(hits => {\n\t\tconst markup = buildGalleryMarkup(hits);\n\t\tinsertImageInfoGallery(markup);\n\t\tconsole.log(hits);\n\t});\n}\n\nfunction loadMoreBtnHandler() {\n\tsearchImage.fetchImages().then(hits => {\n\t\tconsole.log(document.querySelector('#gallery').offsetHeight);\n\t\tscrollToNextPage.heightChange = document.querySelector(\n\t\t\t'#gallery'\n\t\t).offsetHeight;\n\n\t\tconst markup = buildGalleryMarkup(hits);\n\t\tinsertImageInfoGallery(markup);\n\t\twindow.scrollTo({ top: scrollToNextPage.heightChange, behavior: 'smooth' });\n\t\tscrollToNextPage.heightChange = document.querySelector(\n\t\t\t'#gallery'\n\t\t).offsetHeight;\n\t\tconsole.log(scrollToNextPage.heigth);\n\t});\n}\n"],"sourceRoot":""}